{"ast":null,"code":"var _jsxFileName = \"/home/pal/code/herokuMaat/src/components/SaveBloc.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport Button from 'react-bootstrap/Button';\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\nimport Tooltip from 'react-bootstrap/Tooltip';\nimport { MdSave, MdLibraryAdd } from 'react-icons/md';\nimport { IconContext } from 'react-icons';\nimport '../styles/SaveBloc.css';\nimport { saveBlocService } from '../services/blocService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst SaveBlocForm = props => {\n  _s();\n  const [blocName, setBlocName] = useState('');\n  const [showSaveBlocForm, setShowSaveBlocForm] = useState(false);\n  const [blocSaveProblem, setBlocSaveProblem] = useState(\"\");\n  const [blocSaved, setBlocSaved] = useState(false);\n  const handleBlocNameChange = event => {\n    event.preventDefault();\n    setBlocName(event.target.value);\n  };\n  const pressSave = event => {\n    event.preventDefault();\n    const blocObject = {\n      name: blocName,\n      countries: props.selected\n    };\n    const token = `bearer ${props.user.token}`;\n    saveBlocService(blocObject, token).then(response => {\n      //console.log(response)\n      let blocSavingProblem = (\"error\" in response);\n      if (blocSavingProblem) {\n        setBlocSaveProblem(response.error);\n      } else if (\"info\" in response) {\n        //probably ok\n        setBlocSaveProblem(\"\");\n        setBlocSaved(true);\n        setShowSaveBlocForm(false);\n        props.updateBlocList();\n      }\n    }).catch(error => {\n      //console.log(error.response)\n    });\n  };\n  const pressCancel = () => {\n    setShowSaveBlocForm(false);\n    setBlocName('');\n  };\n  const firstPress = () => {\n    setShowSaveBlocForm(true);\n    setBlocSaved(false);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: !showSaveBlocForm || !props.user ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(IconContext.Provider, {\n        value: {\n          size: \"1.25em\",\n          className: \"saveButtonIcon\"\n        },\n        children: /*#__PURE__*/_jsxDEV(OverlayTrigger, {\n          overlay: /*#__PURE__*/_jsxDEV(Tooltip, {\n            id: \"tooltip-disabled\",\n            style: {\n              display: props.user ? \"none\" : \"inline\"\n            },\n            children: \"You must be logged in to do this.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 50\n          }, this),\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              disabled: !props.user,\n              style: {\n                pointerEvents: !props.user ? 'none' : 'auto'\n              },\n              onClick: () => firstPress(),\n              children: [/*#__PURE__*/_jsxDEV(MdLibraryAdd, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 140\n              }, this), \"New Bloc\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 1\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: \"blue\",\n          display: blocSaved ? \"inline\" : \"none\"\n        },\n        children: \"Bloc Saved\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: pressSave,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            marginRight: \"0.2em\"\n          },\n          children: \"Name: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"bloc-name\",\n          placeholder: \"Enter bloc name\",\n          onChange: handleBlocNameChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: \"red\",\n            display: blocSaveProblem.length ? \"inline\" : \"none\"\n          },\n          children: blocSaveProblem\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(IconContext.Provider, {\n        value: {\n          size: \"1.25em\",\n          className: \"saveButtonIcon\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          type: \"submit\",\n          style: {\n            marginRight: \"0.2em\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(MdSave, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 99\n          }, this), \" Save\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"secondary\",\n          onClick: () => {\n            pressCancel();\n            setBlocSaveProblem(\"\");\n          },\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 21\n    }, this)\n  }, void 0, false);\n};\n_s(SaveBlocForm, \"VswOJgMUDjcjaBsGfGTkR0Pczjg=\");\n_c = SaveBlocForm;\nexport default SaveBlocForm;\nvar _c;\n$RefreshReg$(_c, \"SaveBlocForm\");","map":{"version":3,"names":["React","useState","Button","OverlayTrigger","Tooltip","MdSave","MdLibraryAdd","IconContext","saveBlocService","SaveBlocForm","props","blocName","setBlocName","showSaveBlocForm","setShowSaveBlocForm","blocSaveProblem","setBlocSaveProblem","blocSaved","setBlocSaved","handleBlocNameChange","event","preventDefault","target","value","pressSave","blocObject","name","countries","selected","token","user","then","response","blocSavingProblem","error","updateBlocList","catch","pressCancel","firstPress","size","className","display","pointerEvents","color","marginRight","length"],"sources":["/home/pal/code/herokuMaat/src/components/SaveBloc.js"],"sourcesContent":["import React, { useState } from 'react'\nimport Button from 'react-bootstrap/Button'\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger'\nimport Tooltip from 'react-bootstrap/Tooltip'\nimport { MdSave, MdLibraryAdd  } from 'react-icons/md'\nimport { IconContext } from 'react-icons'\nimport '../styles/SaveBloc.css'\nimport { saveBlocService } from '../services/blocService'\n\nconst SaveBlocForm = (props) => {\n\n    const [blocName, setBlocName] = useState('')\n    const [showSaveBlocForm, setShowSaveBlocForm] = useState(false)\n    const [blocSaveProblem, setBlocSaveProblem] = useState(\"\")\n    const [blocSaved, setBlocSaved] = useState(false)\n\n    const handleBlocNameChange = (event) => {\n        event.preventDefault()\n        setBlocName(event.target.value)\n    }\n\n    const pressSave = (event) => {\n        event.preventDefault()\n        const blocObject = {name:blocName,countries:props.selected}\n        const token = `bearer ${props.user.token}`\n        saveBlocService(blocObject,token).then(response => {\n            //console.log(response)\n            let blocSavingProblem = \"error\" in response\n            if(blocSavingProblem){\n                setBlocSaveProblem(response.error)\n            } else if(\"info\" in response){\n                //probably ok\n                setBlocSaveProblem(\"\")\n                setBlocSaved(true)\n                setShowSaveBlocForm(false)\n                props.updateBlocList()\n            }\n        }).catch(error => {\n            //console.log(error.response)\n        })\n    }\n\n    const pressCancel = () => {\n        setShowSaveBlocForm(false)\n        setBlocName('')\n    }\n\n    const firstPress = () => {\n        setShowSaveBlocForm(true)\n        setBlocSaved(false)\n    }\n\n    return (\n        <>\n            {\n                !showSaveBlocForm||!props.user?<>\n                    <IconContext.Provider value={{ size: \"1.25em\", className: \"saveButtonIcon\" }}>\n                        <OverlayTrigger overlay={<Tooltip id=\"tooltip-disabled\" style={{display:props.user?\"none\":\"inline\"}}>You must be logged in to do this.</Tooltip>}>\n<span>\n                            <Button disabled={!props.user} style={{ pointerEvents: !props.user?'none':'auto' }} onClick={()=>firstPress()}><MdLibraryAdd/>New Bloc</Button> \n</span>\n                            </OverlayTrigger>\n                    </IconContext.Provider>\n                    <p style={{color:\"blue\",display:blocSaved?\"inline\":\"none\"}}>Bloc Saved</p></>: \n                    <form onSubmit={pressSave}>\n                        <div>\n                            <label style={{marginRight:\"0.2em\"}}>Name: </label>\n                            <input type=\"text\" id=\"bloc-name\" placeholder=\"Enter bloc name\" onChange={handleBlocNameChange} />\n                            <p style={{color:\"red\",display:blocSaveProblem.length?\"inline\":\"none\"}}>{blocSaveProblem}</p>\n                        </div>\n\n                        <IconContext.Provider value={{ size: \"1.25em\", className: \"saveButtonIcon\" }}>\n                            <Button variant=\"primary\" type=\"submit\" style={{marginRight:\"0.2em\"}}><MdSave/> Save</Button>\n                            <Button variant=\"secondary\" onClick={()=>{pressCancel();setBlocSaveProblem(\"\")}}>Cancel</Button>\n                        </IconContext.Provider>\n                    </form>\n            }\n        </>\n    )\n\n}\n\n\nexport default SaveBlocForm\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}