{"ast":null,"code":"var _jsxFileName = \"/home/pal/code/herokuMaat/src/components/Filter.js\",\n  _s = $RefreshSig$();\nimport '../styles/MapBottomButtons.css';\nimport { render } from '@testing-library/react';\nimport React, { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Filter = props => {\n  _s();\n  const [searchBoxContent, setSearchBoxContent] = useState(\"\");\n  const [searchHints, setSearchHints] = useState(\"\");\n  const handleNewSearchBoxContent = event => {\n    // console.log(\"event \", event)\n\n    let filtered = props.countries.filter(x =>\n    /*\t\t  x.name.common.toLowerCase()===\n              event.target.value.toLowerCase()\n              ||*/\n    x.name.common.toLowerCase().includes(event.target.value.toLowerCase()) || x.name.common.toLowerCase() == event.target.value.toLowerCase());\n    event.preventDefault();\n    //    console.log(\"event trgt vlue\",event.traget.value)\n    setSearchBoxContent(event.target.value);\n    //console.log(\"FILTERED: \", filtered)\n    if (filtered) {\n      //console.log(\"filtered\", filtered.length)\n      if (filtered.length === 1) {\n        //console.log(\"searchbox wants to show details for \", filtered[0].cca2.toLowerCase()) //alpha to lower\n        props.setShowDetail(filtered[0].cca2.toLowerCase());\n      }\n      if (filtered.length < 21 && filtered.length !== 1) {\n        if (filtered.map(x => x.name.common.toLowerCase()).includes(event.target.value.toLowerCase())) {\n          let alpha = filtered.filter(x => x.name.common.toLowerCase() == event.target.value.toLowerCase())[0].cca2;\n          //console.log(alpha)\n          props.setShowDetail(alpha.toLowerCase());\n        }\n        setSearchHints(filtered.map(x => x.name.common).join(\", \"));\n      } else {\n        setSearchHints(\"\");\n      }\n    }\n    !event.target.value && props.setShowDetail(null);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      placeholder: \"Search for a country\",\n      value: searchBoxContent,\n      onChange: handleNewSearchBoxContent\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }, this), searchHints && /*#__PURE__*/_jsxDEV(\"span\", {\n      children: \"Did you mean: \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 25\n    }, this), searchHints]\n  }, void 0, true);\n};\n_s(Filter, \"2dTbg4bOPdq66QkRmB82mJ0QgQ8=\");\n_c = Filter;\nexport default Filter;\nvar _c;\n$RefreshReg$(_c, \"Filter\");","map":{"version":3,"names":["render","React","useState","Filter","props","searchBoxContent","setSearchBoxContent","searchHints","setSearchHints","handleNewSearchBoxContent","event","filtered","countries","filter","x","name","common","toLowerCase","includes","target","value","preventDefault","length","setShowDetail","cca2","map","alpha","join"],"sources":["/home/pal/code/herokuMaat/src/components/Filter.js"],"sourcesContent":["import '../styles/MapBottomButtons.css'\nimport { render } from '@testing-library/react';\nimport React, { useState } from 'react';\n\nconst Filter = (props) => {\n\n  const [searchBoxContent, setSearchBoxContent] = useState(\"\")\n  const [searchHints,setSearchHints] = useState(\"\")\n \n  const handleNewSearchBoxContent = (event) => {\n    // console.log(\"event \", event)\n\n    let filtered = props.countries.filter(\n      x =>\n/*\t\t  x.name.common.toLowerCase()===\n          event.target.value.toLowerCase()\n          ||*/ (x.name.common.toLowerCase().includes(\n          event.target.value.toLowerCase()) || (x.name.common.toLowerCase()==event.target.value.toLowerCase()))\n          )\n    event.preventDefault()\n//    console.log(\"event trgt vlue\",event.traget.value)\n    setSearchBoxContent(event.target.value)\n    //console.log(\"FILTERED: \", filtered)\n    if (filtered) {\n      //console.log(\"filtered\", filtered.length)\n      if (filtered.length === 1) {\n        //console.log(\"searchbox wants to show details for \", filtered[0].cca2.toLowerCase()) //alpha to lower\n        props.setShowDetail(filtered[0].cca2.toLowerCase())\n      }\n      if (filtered.length < 21 && filtered.length !== 1) {\n      \tif(filtered.map(x => x.name.common.toLowerCase()).includes(\n      \tevent.target.value.toLowerCase())){\n\t\tlet alpha = \n\t\tfiltered.filter(x => x.name.common.toLowerCase()==\n      \tevent.target.value.toLowerCase())[0].cca2\n\t//console.log(alpha)\n     \tprops.setShowDetail(alpha.toLowerCase())\n      \t}\n        setSearchHints(filtered.map(x => x.name.common).join(\", \"))\n      } else {\n        setSearchHints(\"\")\n      }\n    }\n    !event.target.value && props.setShowDetail(null)\n  }\n\n  return (\n    <>\n      {/*<div style={{ \"textAlign\": \"center\" }} className=\"mapTopButton\">*/}\n        <input placeholder=\"Search for a country\" value={searchBoxContent}\n          onChange={handleNewSearchBoxContent} />\n        {searchHints && <span>Did you mean: </span>}{searchHints}\n      {/*</div>*/}\n    </>\n  )\n}\nexport default Filter\n"],"mappings":";;AAAA,OAAO,gCAAgC;AACvC,SAASA,MAAM,QAAQ,wBAAwB;AAC/C,OAAOC,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AAAC;AAAA;AAExC,MAAMC,MAAM,GAAIC,KAAK,IAAK;EAAA;EAExB,MAAM,CAACC,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGJ,QAAQ,CAAC,EAAE,CAAC;EAC5D,MAAM,CAACK,WAAW,EAACC,cAAc,CAAC,GAAGN,QAAQ,CAAC,EAAE,CAAC;EAEjD,MAAMO,yBAAyB,GAAIC,KAAK,IAAK;IAC3C;;IAEA,IAAIC,QAAQ,GAAGP,KAAK,CAACQ,SAAS,CAACC,MAAM,CACnCC,CAAC;IACP;AACA;AACA;IAAgBA,CAAC,CAACC,IAAI,CAACC,MAAM,CAACC,WAAW,EAAE,CAACC,QAAQ,CAC1CR,KAAK,CAACS,MAAM,CAACC,KAAK,CAACH,WAAW,EAAE,CAAC,IAAKH,CAAC,CAACC,IAAI,CAACC,MAAM,CAACC,WAAW,EAAE,IAAEP,KAAK,CAACS,MAAM,CAACC,KAAK,CAACH,WAAW,EAAI,CACpG;IACPP,KAAK,CAACW,cAAc,EAAE;IAC1B;IACIf,mBAAmB,CAACI,KAAK,CAACS,MAAM,CAACC,KAAK,CAAC;IACvC;IACA,IAAIT,QAAQ,EAAE;MACZ;MACA,IAAIA,QAAQ,CAACW,MAAM,KAAK,CAAC,EAAE;QACzB;QACAlB,KAAK,CAACmB,aAAa,CAACZ,QAAQ,CAAC,CAAC,CAAC,CAACa,IAAI,CAACP,WAAW,EAAE,CAAC;MACrD;MACA,IAAIN,QAAQ,CAACW,MAAM,GAAG,EAAE,IAAIX,QAAQ,CAACW,MAAM,KAAK,CAAC,EAAE;QAClD,IAAGX,QAAQ,CAACc,GAAG,CAACX,CAAC,IAAIA,CAAC,CAACC,IAAI,CAACC,MAAM,CAACC,WAAW,EAAE,CAAC,CAACC,QAAQ,CAC1DR,KAAK,CAACS,MAAM,CAACC,KAAK,CAACH,WAAW,EAAE,CAAC,EAAC;UACvC,IAAIS,KAAK,GACTf,QAAQ,CAACE,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACC,IAAI,CAACC,MAAM,CAACC,WAAW,EAAE,IAC3CP,KAAK,CAACS,MAAM,CAACC,KAAK,CAACH,WAAW,EAAE,CAAC,CAAC,CAAC,CAAC,CAACO,IAAI;UAC/C;UACKpB,KAAK,CAACmB,aAAa,CAACG,KAAK,CAACT,WAAW,EAAE,CAAC;QACvC;QACCT,cAAc,CAACG,QAAQ,CAACc,GAAG,CAACX,CAAC,IAAIA,CAAC,CAACC,IAAI,CAACC,MAAM,CAAC,CAACW,IAAI,CAAC,IAAI,CAAC,CAAC;MAC7D,CAAC,MAAM;QACLnB,cAAc,CAAC,EAAE,CAAC;MACpB;IACF;IACA,CAACE,KAAK,CAACS,MAAM,CAACC,KAAK,IAAIhB,KAAK,CAACmB,aAAa,CAAC,IAAI,CAAC;EAClD,CAAC;EAED,oBACE;IAAA,wBAEI;MAAO,WAAW,EAAC,sBAAsB;MAAC,KAAK,EAAElB,gBAAiB;MAChE,QAAQ,EAAEI;IAA0B;MAAA;MAAA;MAAA;IAAA,QAAG,EACxCF,WAAW,iBAAI;MAAA,UAAM;IAAc;MAAA;MAAA;MAAA;IAAA,QAAO,EAAEA,WAAW;EAAA,gBAEzD;AAEP,CAAC;AAAA,GAnDKJ,MAAM;AAAA,KAANA,MAAM;AAoDZ,eAAeA,MAAM;AAAA;AAAA"},"metadata":{},"sourceType":"module"}